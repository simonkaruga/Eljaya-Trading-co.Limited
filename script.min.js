(()=>{window.addEventListener("load",function(){let e=document.getElementById("preloader");setTimeout(function(){e.classList.add("hidden")},1500)});let n=document.querySelector(".site-header"),t,o=(window.addEventListener("scroll",function(){var e=window.pageYOffset;100<e?n.classList.add("scrolled"):n.classList.remove("scrolled"),t=e}),document.getElementById("menu-toggle")),i=document.getElementById("site-navigation"),e=(o&&i&&(o.addEventListener("click",function(){i.classList.toggle("active"),o.classList.toggle("active");var e=i.classList.contains("active");o.setAttribute("aria-expanded",e)}),document.addEventListener("click",function(e){i.contains(e.target)||o.contains(e.target)||(i.classList.remove("active"),o.classList.remove("active"),o.setAttribute("aria-expanded","false"))}),i.querySelectorAll(".menu-item a").forEach(function(e){e.addEventListener("click",function(){i.classList.remove("active"),o.classList.remove("active"),o.setAttribute("aria-expanded","false")})})),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t,e=document.querySelector(this.getAttribute("href"));e&&(t=n.offsetHeight,e=e.offsetTop-t,window.scrollTo({top:e,behavior:"smooth"}))})}),document.getElementById("scroll-top"));e&&window.addEventListener("scroll",function(){300<window.pageYOffset?e.classList.add("show"):e.classList.remove("show")}),window.scrollToTop=function(){window.scrollTo({top:0,behavior:"smooth"})};var a=document.querySelectorAll(".stat-value");if(0<a.length){let t=new IntersectionObserver(function(e){e.forEach(function(o){if(o.isIntersecting&&!o.target.classList.contains("counted")){o.target.classList.add("counted");var i=parseInt(o.target.getAttribute("data-count"));{var a=o.target,s=i,o=void 0;let e=s/((o=o||2e3)/16),t=0,n=setInterval(function(){(t+=e)>=s?(a.textContent=s,clearInterval(n)):a.textContent=Math.floor(t)},16)}}})},{threshold:.5});a.forEach(function(e){t.observe(e)})}let s=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("aos-animate")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),r=(document.querySelectorAll("[data-aos]").forEach(function(e){s.observe(e)}),[{text:"Eljaya transformed our brand identity completely. Their strategic approach and attention to detail resulted in a cohesive brand that truly represents our values. Our market presence has never been stronger.",name:"Sarah Kimani",position:"CEO, TechHub Africa"},{text:"Working with Eljaya was a game-changer for our business. They didn't just provide products; they helped us develop a brand strategy that resonates with our target audience. Highly recommended!",name:"David Ochieng",position:"Marketing Director, Green Valley Resorts"},{text:"The quality of work and professionalism from Eljaya is outstanding. They delivered our branded merchandise on time and exceeded our expectations. Our team loves the new uniforms!",name:"Mary Wanjiru",position:"HR Manager, Nairobi International School"},{text:"Exceptional service and innovative solutions. Eljaya helped us position our brand as a market leader through strategic branding and eco-friendly packaging. Our customers have noticed the difference.",name:"James Mwangi",position:"Founder, EcoMart Kenya"}]),c=document.getElementById("testimonialTrack"),l=document.getElementById("carouselDots"),d=0,u;function m(){c&&l&&(c.innerHTML="",l.innerHTML="",r.forEach(function(e,t){var n=document.createElement("div"),e=(n.className="testimonial-item",n.innerHTML=`
                <div class="testimonial-content">
                    <div class="testimonial-text">"${e.text}"</div>
                    <div class="testimonial-author">
                        <div class="author-info">
                            <h4>${e.name}</h4>
                            <p>${e.position}</p>
                        </div>
                    </div>
                </div>
            `,c.appendChild(n),document.createElement("div"));e.className="carousel-dot"+(0===t?" active":""),e.addEventListener("click",function(){var e;e=t,f(d=e),h()}),l.appendChild(e)}))}function f(n){var e;c&&(e=c.parentElement.offsetWidth,c.style.transform=`translateX(-${n*e}px)`,document.querySelectorAll(".carousel-dot").forEach(function(e,t){e.classList.toggle("active",t===n)}))}function p(){f(d=(d+1)%r.length),h()}function g(){u=setInterval(function(){p()},5e3)}function h(){clearInterval(u),g()}function v(e,t){t=t||"success";let n=document.createElement("div");n.className="notification notification-"+t,n.innerHTML=`
            <i class="fas fa-${"success"===t?"check-circle":"exclamation-circle"}"></i>
            <span>${e}</span>
        `,n.style.cssText=`
            position: fixed;
            top: 100px;
            right: 30px;
            background: ${"success"===t?"var(--color-primary)":"#f44336"};
            color: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 10000;
            animation: slideInRight 0.4s ease;
            font-size: 1rem;
            max-width: 400px;
        `,document.getElementById("notification-styles")||((e=document.createElement("style")).id="notification-styles",e.textContent=`
                @keyframes slideInRight {
                    from {
                        transform: translateX(500px);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                
                @keyframes slideOutRight {
                    from {
                        transform: translateX(0);
                        opacity: 1;
                    }
                    to {
                        transform: translateX(500px);
                        opacity: 0;
                    }
                }
            `,document.head.appendChild(e)),document.body.appendChild(n),setTimeout(function(){n.style.animation="slideOutRight 0.4s ease",setTimeout(function(){n.parentNode&&document.body.removeChild(n)},400)},4e3)}window.prevTestimonial=function(){f(d=(d-1+r.length)%r.length),h()},window.nextTestimonial=p,c&&l&&(m(),g(),window.addEventListener("resize",function(){f(d)}));let y=document.querySelectorAll("section[id]"),E=document.querySelectorAll(".menu-item a"),w=(a=((n,o)=>{let i;return function(){let e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(e,t)},o)}})(function(){let i=window.pageYOffset+100;y.forEach(function(e){var t=e.offsetTop,n=e.offsetHeight;let o=e.getAttribute("id");i>=t&&i<t+n&&E.forEach(function(e){e.classList.remove("active"),e.getAttribute("href")==="#"+o&&e.classList.add("active")})})},100),window.addEventListener("scroll",a),document.getElementById("contactForm"));w&&w.addEventListener("submit",function(e){e.preventDefault();e=new FormData(this),e=Object.fromEntries(e);if(e.name&&e.email&&e.phone&&e.service&&e.message){let t=w.querySelector('button[type="submit"]'),n=t.innerHTML;t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...',t.disabled=!0;e=`mailto:eljayasupplies@gmail.com?subject=${encodeURIComponent("New Contact Form Submission - "+e.service)}&body=`+encodeURIComponent(`
Name: ${e.name}
Email: ${e.email}
Phone: ${e.phone}
Company: ${e.company||"Not provided"}
Service: ${e.service}
Message: ${e.message}

Sent from Eljaya Trading Co. website contact form.
            `);try{window.location.href=e,v("Opening your email client...","success"),setTimeout(function(){w.reset(),t.innerHTML=n,t.disabled=!1},2e3)}catch(e){console.error("Email client error:",e),v("Unable to open email client. Please contact us directly at eljayasupplies@gmail.com","error"),t.innerHTML=n,t.disabled=!1}}else v("Please fill in all required fields.","error")}),"loading"in HTMLImageElement.prototype&&document.querySelectorAll('img[loading="lazy"]').forEach(function(e){e.dataset.src&&(e.src=e.dataset.src)}),console.log("%cðŸš€ Eljaya Trading Co. Limited","color: #00a859; font-size: 24px; font-weight: bold;"),console.log("%cStrategic Brand Development","color: #4CAF50; font-size: 18px; font-style: italic;"),console.log("%cInterested in elevating your brand? Contact: eljayasupplies@gmail.com | +254 718 146 386","color: #FFD700; font-size: 14px;"),document.addEventListener("DOMContentLoaded",function(){console.log("âœ… Website initialized successfully"),setTimeout(function(){document.body.classList.add("loaded")},500)})})();